<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
			fetch('data/1.json') //必须一个参数指定请求的资源地址，无论成功还是失败，该方法都会返回一个promise对象
				.then((response) => {
					console.log(response) //response请求的响应对象，无论是请求成功或失败，都会返回promise,不会被标记未reject
					if (response.status !== 200 ){
						console.log('错误代码' + response.status)
					}
					response.json().then(data => console.log(data)) //json():JSON.parse()
				})
				.catch((err) => {console.log(err)})//网络故障的时候才会被标记为reject
			// const url = api
			// const request = new XMLHttpRequest()
			// request.open('Get', url)
			// request.addEventListener('readystatechange', () => {
			// 	if (request.readyState == 4 && request.status == 200) {
			// 		// console.log(request.responseText)
			// 		//callback(undefined, request.responseText) //(callback)是回调函数
			// 		const data = request.responseText
			// 		resolve()
			// 	} else if (request.readyState == 4) {
			// 		//callback('请求数据失败', undefined)
			// 		reject()
			// 	}
			// })
			// request.send()

			// function loading() {}
		</script>
	</body>
</html>
<!-- Fetch API提供了一个js接口，用于访问和操作HTTP，脚本化HTTP,比如请求和相应。
- fetch():全局方法
与传统AJAX相比，它更加简单，抽象来跨网络获取资源
-->
