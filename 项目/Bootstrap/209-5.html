<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
			// const getData = (api, callback) => {
			const getData = (api) => {
				return new Promise((resolve, reject) => {
					const url = api
					const request = new XMLHttpRequest()
					request.open('Get', url)
					request.addEventListener('readystatechange', () => {
						if (request.readyState == 4 && request.status == 200) {
							// console.log(request.responseText)
							//callback(undefined, request.responseText) //(callback)是回调函数
							const data = request.responseText
							resolve(data)
						} else if (request.readyState == 4) {
							//callback('请求数据失败', undefined)
							reject('请求数据失败')
						}
					})
					request.send()
				})
			}

			getData('data/1.json')
			.then((data) => {
				console.log(data)
			}, (err) => {
				console.log('请求失败')
			})
            getData('data/2.json')
            .then((data) => {
            	console.log(data)
            }, (err) => {
            	console.log('请求失败')
            })
			getData('data/3.json')
			.then((data) => {
				console.log(data)
			}, (err) => {
				console.log('请求失败')
			})
			
			
            











			// getData('datas/1.json', (err, data) => { //getData（）函数,[get获取，Data数据]data网络时间戳
			// 	console.log('我是回调函数')
			// 	if (err) {
			// 		console.log(err) //err错误
			// 	} else {
			// 		console.log(data) //data正确
			// 		getData('datas/2.json', (err, data) => { //getData（）函数,[get获取，Data数据]data网络时间戳
			// 			console.log('我是回调函数')
			// 			if (err) {
			// 				console.log(err) //err错误
			// 			} else {
			// 				console.log(data) //data正确
			// 				getData('datas/3.json', (err, data) => { //getData（）函数,[get获取，Data数据]data网络时间戳
			// 					console.log('我是回调函数')
			// 					if (err) {
			// 						console.log(err) //err错误
			// 					} else {
			// 						console.log(data) //data正确
			// 					}
			// 				})
			// 			}
			// 		})
			// 	}
			// })
		</script>
	</body>
</html>
