<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>工具函数:getMousePos()</title>
		<style type="text/css">
			body {
				margin: 0;
				background-color: #eee;
			}

			#Canvas {
				box-shadow: 0px 0px 30px black;
				background-color: #f4f4f4;
				position: absolute;
				left: 100px;
				top: 50px
			}
		</style>
	</head>
	<body>
		<canvas id="Canvas"></canvas>
		<script>
			var canvas = document.querySelector("#Canvas");
			var ctx = canvas.getContext("2d"); //引入绘图环境2d
			canvas.width = 800
			canvas.height = 400
			//获取基于传入元素的鼠标的坐标
			let C = {}
			C.getMousePos = function(ele) {
				let mouse = {x: 0,y: 0}
				ele.addEventListener('mousemove', function(ev) {
					let {pageX,	pageY,target} = ev
					let {left,top} = target.getBoundingClientRect()
					mouse.x = pageX - left
					mouse.y = pageY - top
				})
				return mouse
				
			}
	
			let rerult = C.getMousePos(canvas)
			canvas.onclick = function() {
				console.log(rerult.x, rerult.y)
			}
		</script>
	</body>
</html>
