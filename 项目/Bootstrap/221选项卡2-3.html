<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}

			.tabs {
				margin: 0 auto;
				border: 1px solid #8A2BE2;
				width: 300px;
				height: 300px;
				position: relative;
				/* 	background-color: #00FFFF; */

			}

			.tab-container {
				overflow: hidden;
				width: 300px;
				height: 300px;
			}

			.tab {
				border: none;
				outline: none;
				width: 100px;
				height: 40px;
				float: left;
			}

			.tab-content {
				width: 100%;
				height: calc(100% - 40px);
				position: absolute;
				left: 0;
				top: 40px;
				display: none;
			}

			.tab-content:nth-child(2) {
				background-color: #0000FF;
				display: block;
			}

			.tab-content:nth-child(3) {
				background-color: #00FF00;

			}

			.tab-content:nth-child(4) {
				background-color: #FFFF00;

			}

			.active {

				background-color: red;
			}
		</style>
		<!-- <script type="text/javascript">
			//声明变量
			let container = null
			let tabs = null
			let contents = null
			let last = null
			window.onload = function() {
				//获取元素
				container = document.querySelector('.tab-container')
				tabs = document.querySelectorAll('.tab')
				contents = document.querySelectorAll('.tab-content')
				last = tabs[0]
				//点击tabs，显示对应的对应contents
				init()
			}
			function init() {
				for (let i = 0; i < tabs.length; i++) {
					tabs[i].index = i
					tabs[i].onclick = switchTab
				}
			}
			function switchTab() {
				last.classList.remove('active')
				contents[last.index].style.display = "none"
				this.classList.add('active')
				contents[this.index].style.display = "block"
				last = this
			}
		</script> -->
		<script type="text/javascript">
			window.onload = function() {
				const tab1 = new Tab('#tabs1')//通过传参id名
				tab1.init('#tabs1')//通过传参id名
				const tab2 = new Tab('#tabs2')//通过传参id名
				tab2.init('#tabs2')//通过传参id名
			}

			function Tab(id) {//id通过传参
				this.Tabs=document.querySelector(id)
				this.container = this.Tabs.querySelector('.tab-container')//this.Tabs从父级元素获取
				this.tabs = this.Tabs.querySelectorAll('.tab')//this.Tabs从父级元素获取
				this.contents = this.Tabs.querySelectorAll('.tab-content')//this.Tabs从父级元素获取
				this.last = this.tabs[0]
			}
			Tab.prototype.init = function() {
				let This = this
				for (let i = 0; i < this.tabs.length; i++) {
					this.tabs[i].index = i
					this.tabs[i].onclick = function() {
						This.switchTab(this)
					}
				}
			}
			Tab.prototype.switchTab = function(obj) {
				this.last.classList.remove('active')
				this.contents[this.last.index].style.display = "none"
				obj.classList.add('active')
				this.contents[obj.index].style.display = "block"
				this.last = obj
			}
		</script>
	</head>
	<!-- 改写的思想
	1.不要出现函数嵌套函数
	2.局部变量改为全局变量
	 -->
	<body>
		<div class="tabs" id='tabs1'>
			<div class="tab-container">
				<button class='tab active'>选项卡1</button>
				<button class='tab'>选项卡2</button>
				<button class='tab'>选项卡3</button>
			</div>
			<div class="tab-content">内容1</div>
			<div class="tab-content">内容2</div>
			<div class="tab-content">内容3</div>
		</div>
		<div class="tabs" id='tabs2'>
			<div class="tab-container">
				<button class='tab active'>选项卡1</button>
				<button class='tab'>选项卡2</button>
				<button class='tab'>选项卡3</button>
			</div>
			<div class="tab-content">内容1</div>
			<div class="tab-content">内容2</div>
			<div class="tab-content">内容3</div>
		</div>
	</body>
</html>
